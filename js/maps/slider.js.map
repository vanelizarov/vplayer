{"version":3,"names":[],"mappings":"","sources":["slider.js"],"sourcesContent":["var slider = (function() {\n    var container = document.querySelector('.volume-slider');\n    var knob = container.querySelector('.knob');\n    var level = container.querySelector('.level');\n\n    var enabled = true;\n    var volume = 0;\n\n    var onchange = function(){};\n\n    var mouseOffset;\n    var touchOffset;\n\n    function setValue(val) {\n\n        volume = val;\n        knob.style.left = (val * 100) + '%';\n        level.style.width = (val * 100) + '%';\n        onchange(volume);\n    }\n\n    function getMouseOffset(target, e) {\n        var x = e.clientX;\n        var contWidth = container.clientWidth;\n        return x - ((target.style.left.replace('%', '')) / 100) * contWidth;\n    }\n\n    function moveKnob(xPos, offset) {\n        var knobWidth = knob.clientWidth;\n        var contWidth = container.clientWidth;\n        var xMove = xPos - offset;\n        if (xMove <= 0) {\n            xMove = 0;\n        }\n        if (xMove >= contWidth - knobWidth) {\n            xMove = contWidth - knobWidth;\n        }\n\n        knob.style.cursor = 'move';\n        setValue(xMove / contWidth);\n    }\n\n    function onMouseMove(e) {\n        if (enabled) {\n            e = e || window.event;\n            moveKnob(e.clientX, mouseOffset);\n            return false;\n        }\n    }\n\n    function onMouseUp() {\n        knob.style.cursor = 'pointer';\n        knob = null;\n        document.onmousemove = null;\n        document.onmouseup = null;\n    }\n\n    function onMouseDown(e) {\n        e = e || window.event;\n        if (e.which != 1) {\n            return;\n        }\n        knob = this;\n        mouseOffset = getMouseOffset(this, e);\n        document.onmousemove = onMouseMove;\n        document.onmouseup = onMouseUp;\n\n        return false;\n    }\n\n\n    knob.onmousedown = onMouseDown;\n\n    knob.addEventListener('touchstart', function(event) {\n        if (event.targetTouches.length == 1) {\n            var touch = event.targetTouches[0];\n            touchOffset = touch.pageX - touch.target.offsetLeft;\n        }\n    }, false);\n\n    knob.addEventListener('touchmove', function(event) {\n        if (event.targetTouches.length == 1) {\n            moveKnob(event.targetTouches[0].pageX, touchOffset);\n        }\n    }, false);\n\n    return {\n        enable: function() {\n            enabled = true;\n        },\n        disable: function() {\n            enabled = false;\n        },\n        value: function(arg) {\n            if (typeof arg !== 'undefined') {\n                var prev = volume;\n                setValue(arg);\n                return prev;\n            } else {\n                return volume;\n            }\n        },\n        onchange: function(callback) {\n            onchange = callback || function(){};\n        }\n    }\n\n})();\n"],"file":"slider.js","sourceRoot":"/source/"}