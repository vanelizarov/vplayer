{"version":3,"names":[],"mappings":"","sources":["slider.js"],"sourcesContent":["var slider = (function() {\n\tvar container = document.getElementsByClassName('volume-slider')[0];\n\tvar knob = container.getElementsByClassName('knob')[0];\n\tvar level = container.getElementsByClassName('level')[0];\n\n\tvar enabled = true;\n\tvar volume = 0;\n\n\tvar onchange = function(){};\n\n\tvar mouseOffset;\n\n\tfunction setValue(val) {\n\n\t\tvolume = val;\n\t\tknob.style.left = (val * 100) + '%';\n\t\tlevel.style.width = (val * 100) + '%';\n\t\tonchange(volume);\n\t}\n\n\tfunction getMouseOffset(target, e) {\n\t\tvar x = 'ontouchstart' in window ? e.targetTouches[0].clientX : e.clientX;\n\t\tvar contWidth = container.clientWidth;\n\t\treturn x - ((target.style.left.replace('%', '')) / 100) * contWidth;\n\t}\n\n\tfunction onMouseMove(e) {\n\t\tif (enabled) {\n\n\t\t\te = e || window.event;\n\t\t\tvar xPos = 'ontouchstart' in window ? e.targetTouches[0].clientX : e.clientX;\n\t\t\tvar knobWidth = knob.clientWidth;\n\t\t\tvar contWidth = container.clientWidth;\n\t\t\tvar xMove = xPos - mouseOffset;\n\t\t\tif (xMove <= 0) {\n\t\t\t\txMove = 0;\n\t\t\t}\n\t\t\tif (xMove >= contWidth - knobWidth) {\n\t\t\t\txMove = contWidth - knobWidth;\n\t\t\t}\n\n\t\t\tknob.style.cursor = 'move';\n\t\t\tsetValue(xMove / contWidth);\n\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfunction onMouseUp() {\n\t\tknob.style.cursor = 'pointer';\n\t\tknob = null;\n\t\tdocument.onmousemove = null;\n\t\tdocument.ontouchmove = null;\n\t\tdocument.onmouseup = null;\n\t\tdocument.ontouchend = null;\n\t}\n\n\tfunction onMouseDown(e) {\n\t\te = e || window.event;\n\t\tif (e.which != 1) {\n\t\t\treturn;\n\t\t}\n\t\tknob = this;\n\t\tmouseOffset = getMouseOffset(this, e);\n\t\tdocument.onmousemove = onMouseMove;\n\t\tdocument.ontouchmove = onMouseMove;\n\t\tdocument.onmouseup = onMouseUp;\n\t\tdocument.ontouchend = onMouseUp;\n\n\t\treturn false;\n\t}\n\n\tknob.onmousedown = onMouseDown;\n\tknob.ontouchstart = onMouseDown;\n\n\treturn {\n\t\tenable: function() {\n\t\t\tenabled = true;\n\t\t},\n\t\tdisable: function() {\n\t\t\tenabled = false;\n\t\t},\n\t\tvalue: function(arg) {\n\t\t\tif (typeof arg !== 'undefined') {\n\t\t\t\tvar prev = volume;\n\t\t\t\tsetValue(arg);\n\t\t\t\treturn prev;\n\t\t\t} else {\n\t\t\t\treturn volume;\n\t\t\t}\n\t\t},\n\t\tonchange: function(callback) {\n\t\t\tonchange = callback || function(){};\n\t\t}\n\t}\n\n})();\n\n// function getVolume(volume) {\n// \t$('.log').text(volume);\n// }\n//\n// slider.onchange(getVolume);\n// var prev = slider.value(60);\n// console.log(prev);"],"file":"slider.js","sourceRoot":"/source/"}